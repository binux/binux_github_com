<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  
  <title>第 4 页 | Binuxの杂货铺</title>
  <meta name="author" content="Roy Binux">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Binuxの杂货铺"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="shortcut icon" href="/favicon.png">
  
    <link rel="alternate" href="/atom.xml" title="Binuxの杂货铺" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
  
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-36392342-1', 'auto');
	ga('send', 'pageview');

</script>


<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Binuxの杂货铺</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/null">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/projects">Projects</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article id="post-aria2-examples" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-12-24T08:00:00.000Z"><a href="/2012/12/aria2-examples/">2012-12-24</a></time>
      
      
  
    <h1 class="title"><a href="/2012/12/aria2-examples/">aria2配置示例</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>其实面对man的存在，写什么总结完全没有必要，一切宝藏都在<a target="_blank" rel="noopener" href="http://aria2.sourceforge.net/manual/en/html/aria2c.html">manual</a>。不过反正不会有人会读就是了。那我就写一下吧</p>
<p>##基础<br>首先，aria2或者叫做aria2c，它是一个下载器，嗯。<br>常用的两种模式是直接下载，比如 <code>aria2c &quot;http://host/file.zip&quot;</code> 这样，当它完成后就退出了，就像wget（估计你们也不知道吧）那样。<br>另一种就是rpc server模式，特点就是，它启动之后什么都不干，然后等着从rpc接口添加任务，下载完也不退出，而是一直等着。对，就像迅雷干的那样，当然，它不会上传你硬盘上的数据。</p>
<p>因为第一种方式要每次都敲命令，除非像我是原生<em>nix，没有命令行就没法用电脑，估计也没什么用，于是常用的就是第二种。一般启动命令是 <code>aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -c -D</code> 。但是，其实*<em>这个命令是不好的！不要使用这种启动方式。</em></em><br>首先，用命令方式导致配置不方便修改保存，<code>-D</code>导致无法看到出错信息。</p>
<p><strong>推荐启动方式是使用配置文件</strong> <code>$HOME/.aria2/aria2.conf</code> 。嗯，我知道路由上这个地址是无法修改或者重启后会丢失的，那么你可以放到别的地方，然后 <code>aria2c --conf-path=&lt;PATH&gt;</code> 注意 <code>&lt;PATH&gt;</code> 填完整路径，因为鬼知道这个程序是从那个路径启动的。<code>-D</code> (用于后台执行, 这样ssh断开连接后程序不会退出） 只有在确认OK之后在启动脚本中使用。</p>
<p><strong>以下方案都基于配置文件方式</strong></p>
<p>##图形界面<br>aria2是没有图形界面的，已知相对好用的图形界面有：</p>
<ul>
<li>我的<a target="_blank" rel="noopener" href="http://blog.binux.me/yaaw/">YAAW</a></li>
<li>另一个web前端<a target="_blank" rel="noopener" href="http://ziahamza.github.com/webui-aria2/">webui-aria2</a></li>
</ul>
<p><strong>请使用chrome，firefox等现代浏览器访问。</strong>这两个东西都可以直接使用，除了看英文不爽以外，有什么必要下载回来使用？（吐槽：难道你们就不觉得webui-aria2的title总是被压成好几行，诡异的配色（对，说的就是那个蓝色背景，深蓝颜色的 <code>Use custom IP and port settings</code> 按钮）不难看吗？）<br><strong>这两个东西上的配置在重启后都会失效!</strong> 使用配置文件保存您的设置</p>
<ul>
<li>windows下有<a target="_blank" rel="noopener" href="http://sourceforge.net/projects/aria2cremote/">Aria2c Remote Control</a></li>
<li>iphone有<a target="_blank" rel="noopener" href="https://itunes.apple.com/us/app/aria2-download-manager-remote/id525944692">Aria2 Download Manager</a></li>
</ul>
<p>图形界面基本都基于RPC模式，所以一定<strong>确定开启了RPC，IP端口可访问，并且在管理器中填写了正确的地址</strong>。</p>
<p>##配置</p>
<p><strong>请将所有配置置于配置文件中</strong><br><strong>只有在确认配置无误后再加上 <code>-D</code> 选项</strong><br><strong>请阅读出错信息!</strong></p>
<p>###RPC<br><strong>需要1.14及以上版本</strong><br><a target="_blank" rel="noopener" href="http://aria2.sourceforge.net/manual/en/html/aria2c.html#rpc-options">http://aria2.sourceforge.net/manual/en/html/aria2c.html#rpc-options</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#允许rpc</span></span><br><span class="line">enable-rpc=<span class="literal">true</span></span><br><span class="line"><span class="comment">#允许所有来源, web界面跨域权限需要</span></span><br><span class="line">rpc-allow-origin-all=<span class="literal">true</span></span><br><span class="line"><span class="comment">#允许非外部访问</span></span><br><span class="line">rpc-listen-all=<span class="literal">true</span></span><br><span class="line"><span class="comment">#RPC端口, 仅当默认端口被占用时修改</span></span><br><span class="line"><span class="comment">#rpc-listen-port=6800</span></span><br></pre></td></tr></table></figure>

<p>如果启动时出现 <code>Initializing EpollEventPoll failed.</code> 或相似错误, 在配置中加上 <code>event-poll=select</code></p>
<p><strong>使用token验证（建议使用，需要1.18.4以上版本，帐号密码方式将在后续版本中停用！）</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># token验证</span></span><br><span class="line">rpc-secret=secret</span><br></pre></td></tr></table></figure>
<p>在YAAW中使用 <code>http://token:secret@hostname:port/jsonrpc</code> 的地址格式设置secret.</p>
<p>如果需要使用密码验证（需要1.15.2以上，1.18.6以下版本）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用户名</span></span><br><span class="line">rpc-user=username</span><br><span class="line"><span class="comment">#密码</span></span><br><span class="line">rpc-passwd=passwd</span><br></pre></td></tr></table></figure>
<p>在YAAW中使用 <code>http://username:passwd@hostname:port/jsonrpc</code> 的地址格式设置密码.<br>对于RPC模式来说, 界面和后端是分离的, 只要给后端设置密码即可. 前端认证什么的是毫无意义的.<br>如果你比较新潮, 在YAAW中也可以用 <code>ws://</code> 为前缀,只用websocket连接aria2c, 如果你不知道websocket是什么. 那就算了.</p>
<p>###速度相关</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最大同时下载数(任务数), 路由建议值: 3</span></span><br><span class="line">max-concurrent-downloads=5</span><br><span class="line"><span class="comment">#断点续传</span></span><br><span class="line"><span class="built_in">continue</span>=<span class="literal">true</span></span><br><span class="line"><span class="comment">#同服务器连接数</span></span><br><span class="line">max-connection-per-server=5</span><br><span class="line"><span class="comment">#最小文件分片大小, 下载线程数上限取决于能分出多少片, 对于小文件重要</span></span><br><span class="line">min-split-size=10M</span><br><span class="line"><span class="comment">#单文件最大线程数, 路由建议值: 5</span></span><br><span class="line"><span class="built_in">split</span>=10</span><br><span class="line"><span class="comment">#下载速度限制</span></span><br><span class="line">max-overall-download-limit=0</span><br><span class="line"><span class="comment">#单文件速度限制</span></span><br><span class="line">max-download-limit=0</span><br><span class="line"><span class="comment">#上传速度限制</span></span><br><span class="line">max-overall-upload-limit=0</span><br><span class="line"><span class="comment">#单文件速度限制</span></span><br><span class="line">max-upload-limit=0</span><br><span class="line"><span class="comment">#断开速度过慢的连接</span></span><br><span class="line"><span class="comment">#lowest-speed-limit=0</span></span><br><span class="line"><span class="comment">#验证用，需要1.16.1之后的release版本</span></span><br><span class="line"><span class="comment">#referer=*</span></span><br></pre></td></tr></table></figure>

<p>###进度保存相关<br>aria2c只有在正常退出时(ctrl-c), 突然断电是无法保存进度的. 在第一次使用的时候会出现会话文件不存在的错误, 手动创建一个空文件即可. 如果您编写的是自动启动脚本, 在启动aria2前加上 <code>touch aria2.session</code> 这句命令.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">input-file=/some/where/aria2.session</span><br><span class="line">save-session=/some/where/aria2.session</span><br><span class="line"><span class="comment">#定时保存会话，需要1.16.1之后的release版</span></span><br><span class="line"><span class="comment">#save-session-interval=60</span></span><br></pre></td></tr></table></figure>

<p>###磁盘相关</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#文件保存路径, 默认为当前启动位置</span></span><br><span class="line"><span class="built_in">dir</span>=/some/where</span><br><span class="line"><span class="comment">#文件缓存, 使用内置的文件缓存, 如果你不相信Linux内核文件缓存和磁盘内置缓存时使用, 需要1.16及以上版本</span></span><br><span class="line"><span class="comment">#disk-cache=0</span></span><br><span class="line"><span class="comment">#另一种Linux文件缓存方式, 使用前确保您使用的内核支持此选项, 需要1.15及以上版本(?)</span></span><br><span class="line"><span class="comment">#enable-mmap=true</span></span><br><span class="line"><span class="comment">#文件预分配, 能有效降低文件碎片, 提高磁盘性能. 缺点是预分配时间较长</span></span><br><span class="line"><span class="comment">#所需时间 none &lt; falloc ? trunc &lt;&lt; prealloc, falloc和trunc需要文件系统和内核支持</span></span><br><span class="line">file-allocation=prealloc</span><br></pre></td></tr></table></figure>

<p>###BT相关<br><a target="_blank" rel="noopener" href="http://aria2.sourceforge.net/manual/en/html/aria2c.html#bittorrent-specific-options">http://aria2.sourceforge.net/manual/en/html/aria2c.html#bittorrent-specific-options</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#启用本地节点查找</span></span><br><span class="line">bt-enable-lpd=<span class="literal">true</span></span><br><span class="line"><span class="comment">#添加额外的tracker</span></span><br><span class="line"><span class="comment">#bt-tracker=&lt;URI&gt;,…</span></span><br><span class="line"><span class="comment">#单种子最大连接数</span></span><br><span class="line"><span class="comment">#bt-max-peers=55</span></span><br><span class="line"><span class="comment">#强制加密, 防迅雷必备</span></span><br><span class="line"><span class="comment">#bt-require-crypto=true</span></span><br><span class="line"><span class="comment">#当下载的文件是一个种子(以.torrent结尾)时, 自动下载BT</span></span><br><span class="line">follow-torrent=<span class="literal">true</span></span><br><span class="line"><span class="comment">#BT监听端口, 当端口屏蔽时使用</span></span><br><span class="line"><span class="comment">#listen-port=6881-6999</span></span><br></pre></td></tr></table></figure>

<p>aria2亦可以用于PT下载, 下载的关键在于伪装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#不确定是否需要，为保险起见，need more test</span></span><br><span class="line">enable-dht=<span class="literal">false</span></span><br><span class="line">bt-enable-lpd=<span class="literal">false</span></span><br><span class="line">enable-peer-exchange=<span class="literal">false</span></span><br><span class="line"><span class="comment">#修改特征</span></span><br><span class="line">user-agent=uTorrent/2210(25130)</span><br><span class="line">peer-id-prefix=-UT2210-</span><br><span class="line"><span class="comment">#修改做种设置, 允许做种</span></span><br><span class="line">seed-ratio=0</span><br><span class="line"><span class="comment">#保存会话</span></span><br><span class="line">force-save=<span class="literal">true</span></span><br><span class="line">bt-hash-check-seed=<span class="literal">true</span></span><br><span class="line">bt-seed-unverified=<span class="literal">true</span></span><br><span class="line">bt-save-metadata=<span class="literal">true</span></span><br><span class="line"><span class="comment">#定时保存会话，需要1.16.1之后的某个release版本（比如1.16.2）</span></span><br><span class="line"><span class="comment">#save-session-interval=60</span></span><br></pre></td></tr></table></figure>

<p>##常见问题<br>###Internal server error<br>手动访问你的JSON-RPC地址 <code>http://hostname:port/jsonrpc?jsoncallback=1</code> 如果没有返回, 请确认aria2是否启动以及连通性. 如果aria2在路由器后或没有公网IP, 请做好端口映射.</p>
<p>###如何使用迅雷离线</p>
<p><a target="_blank" rel="noopener" href="http://binux.github.com/ThunderLixianExporter/">http://binux.github.com/ThunderLixianExporter/</a><br>安装后, 在迅雷离线的右上角的设置中设置RPC地址.<br>提供chrome插件: <a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/thunderlixianassistant/eehlmkfpnagoieibahhcghphdbjcdmen">https://chrome.google.com/webstore/detail/thunderlixianassistant/eehlmkfpnagoieibahhcghphdbjcdmen</a></p>
<p>###如何使用旋风离线(QQ离线)<br><a target="_blank" rel="noopener" href="http://userscripts.org/scripts/show/142624">http://userscripts.org/scripts/show/142624</a>安装脚本后, 在旋风离线页面使用.</p>
<p>###如何安装aria2<br>我也不知道, 看你的box上有什么开源包管理器之类的东西, 有什么用什么. 如果没有, google之, 如果没有, 放弃吧.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-xunlei-any-down" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-12-10T08:00:00.000Z"><a href="/2012/12/xunlei-any-down/">2012-12-10</a></time>
      
      
  
    <h1 class="title"><a href="/2012/12/xunlei-any-down/">迅雷随便下</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        
<p>本来这个漏洞在loli.lu关闭的时候就已经被发现，并且也告知了相关人员，而且我一度认为这个漏洞是有意留下的。后来经<a href="https://plus.google.com/u/1/112035543705440091116" target="_blank">+李草木</a>提起，发现为数众多的迅雷云点播破解依旧用的是这个漏洞。<b>既然要玩，就要玩票大的。</b></p>

<ul>
  <li> 任意地址，任意类型，立即提取下载链接</li>
  <li> 管开坑，<b>不管填</b></li>
  <li><b>您可能需要登陆一个迅雷账号（不需要VIP）</b></li>
</ul>

<hr />

<section style="margin-top: 20px;">
<script src="http://dynamic.vod.lixian.xunlei.com/fx"></script>
<script src="http://lib.sinaapp.com/js/jquery/1.8.3/jquery.min.js"></script>
<form id="xunlei-form">
  <input id="xunlei-url" type=text placeholder="在这里填入各种链接" style="width:550px" /> <input type="submit" value="go" id="xunlei-go" />
</form>

<table><tbody id="result-table"></tbody></table>

<script>
$("#xunlei-form").on("submit", function() {
  function doo() {
    var url = $("#xunlei-url").val();
    if (url) {
      $("#result-table").empty().append("<tr><td>loading</td></tr>")
      $.getJSON("http://roybinux.duapp.com/get?callback=?", {url: url, userid: window.xunlei_userid},
        function(data) {
          data = data.data;
          if (data.items && data.items.length) {
            $("#result-table").empty()
            $.each(data.items, function(n, e) {
              if (e.url) {
                $("#result-table").append("<tr><td><a href='"+e.url+"' target='_blank'>"+e.title+"</a></td><td>"+format_size(parseInt(e.size))+"</td></tr>");
              } else {
                $("#result-table").append("<tr><td>"+e.title+"</td><td>"+format_size(parseInt(e.size))+"</td></tr>");
              }
            });
          } else {
            $("#result-table").empty().append("<tr><td>没有找到资源</td></tr>");
          }
        }).error(function() {
          $("#result-table").empty().append("<tr><td>请求出错</td></tr>")
        });
    } else {
      $("#result-table").empty().append("<tr><td>需要url</td></tr>")
    }
  }

  if (!window.xunlei_userid) {
    $.getJSON('http://i.vod.xunlei.com/req_subBT?jsonp=?', function(data) {
      window.xunlei_userid = data.resp.userid || 21;
      doo();
    });
  } else {
    doo();
  }
  return false;
});
function format_size(spare_size)
{
  if (spare_size == 0)
    return "0B";
	var spare_str;
	var spare_left;
	if( spare_size >= 1024*1024*1024  )
	{
		spare_left = Math.floor(spare_size/(1024*1024*1024)*10);
		spare_str = (spare_left/10).toString()+"GB";
	}else if( spare_size >= 1024*1024 ){
		spare_left = (Math.floor(spare_size*100/(1024*1024)))/100;
		spare_str = spare_left.toString()+"MB";
	}
	else if(spare_size >= 1024){
		spare_left = Math.floor(spare_size/1024);
		spare_str = spare_left.toString()+"KB";
	}
	else{
		spare_str = spare_size + "B";
	}

	return spare_str;
}
</script>
</section>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-moefm-playlist" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-11-17T08:00:00.000Z"><a href="/2012/11/moefm-playlist/">2012-11-17</a></time>
      
      
  
    <h1 class="title"><a href="/2012/11/moefm-playlist/">再也不会听不完电台了——萌否电台播放列表</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>一直不爽萌否电台的播放器，跳歌一首首跳太慢，mp3加载不了直接挂掉。想听个<a target="_blank" rel="noopener" href="http://moe.fm/radio/enjoy">一百多首歌的电台</a>不是时间不够，就是听到一半挂掉了。</p>
<p>于是，我有一个愿望，<strong>听完一次这个电台！</strong>。于是就有了这货</p>
<p><img src="/assets/image/Screenshot+2012-11-17+at+00.15.43.png" alt="screenshot"></p>
<p>代码依旧在<a target="_blank" rel="noopener" href="https://gist.github.com/4087765">github</a>上，这里有一个书签，在播放页点一下即可使用：</p>
<p><code>javascript:void((function()&#123;var d=document;var s=d.createElement(&#39;script&#39;);s.src=&#39;https://raw.github.com/gist/4087765/playlist.js&#39;;s.id=&#39;binux_js&#39;;d.body.appendChild(s)&#125;)())</code></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-google-sb" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-11-08T08:00:00.000Z"><a href="/2012/11/google-sb/">2012-11-08</a></time>
      
      
  
    <h1 class="title"><a href="/2012/11/google-sb/">#google你个sb</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>由于 #google你个sb 的原因，我的整个账号被disable了。任何与这个账号相关的包括但不限于：</p>
<ul>
<li>各种方式登陆</li>
<li>各种服务</li>
<li>各种同步失效</li>
<li>向此邮箱发信&#x3D;&gt;被退信</li>
</ul>
<p>都无法使用，能用的：</p>
<ul>
<li>google code、chrome store上的项目能访问</li>
<li>app engine上的程序在运行</li>
</ul>
<p>这已经是一周之前的事情了，期间无数次发信，论坛求助，没有收到任何回复。不过鉴于一年前起，所有账号都开始使用@binux.me进行注册，所有密码都使用lastpass接管，并且还是有挺多服务是允许修改邮箱的。一周之内竟然没有太大影响，只要我不忘记邮箱密码，应该就没问题。</p>
<p>###永远不要相信免费（包括google）<br>这是我领悟到的第一个道理。在disable的开始几天，我每天都发信，每天都幻想google会如何回复，会不会直接拒绝恢复账号。一个周末过去了，我发现我错了，非常严重的错了。那个“<a target="_blank" rel="noopener" href="http://support.google.com/accounts/bin/request.py?hl=zh-Hans&contact_type=disabled2&p=mail">与我们联系</a>”页面完全如同一个静态页面，无论你提交什么，它都会杉杉有礼地告诉你，“您的信息已收到”。然后，就没有然后了。</p>
<p><strong>永远不要相信有什么免费的东西，即使他是google提供的。</strong>一个产品如果对你来说是免费的，这意味着你根本不是他们的客户，你只是他们的商品。他们从你这里拿走他们想要的隐私，然后卖给他们的客户。他们在乎的是大数量的用户，在乎的是他们的客户，一两个的用户他们根本不在乎。一旦你变得和其他用户不一样，他们会做的不过是抛弃你，就像那些残次的商品一样。</p>
<p>当有一天，他们终止了你的服务，没有警告，不负责任（这已经写在协议里了哦，亲）。然后，什么都没有了。你原以为所有的，创造的，购买的。没有了，都没有了。假如你用着chromebook，16G硬盘，云。。呵呵（有比“呵呵”更好的词吗？！）</p>
<p>###鸡蛋不要放在一个篮子里<br>这个google账号我已经用了7年，我注册时gmail还没有开始内测（这有另一个悲剧：因为我的账号早于gmail注册，开通gmail时，我惊讶的发现我的用户名不能用于gmail，必须另取一个。于是，我一开始注册的用户名占用了我的常用用户名，得到一个永远收不到任何信件的地址。这个问题直到7年之后的今天，也没有人想要去解决。）。我所有的服务都和它绑定在一起：</p>
<ul>
<li>我不再能收到gmail信件</li>
<li>无法取回google+上都加了谁</li>
<li>与原来的联系人聊天还要重新发送邀请</li>
<li>不能看到自己网站的统计数据</li>
<li>不能访问docs上的文档</li>
<li>chrome strore上的插件不再更新</li>
<li>app engine上的代码拿不下来</li>
<li>reader里面30w的阅读记录</li>
<li>手机同步，购买的应用</li>
<li>chrome数据同步，openid登陆的网站</li>
</ul>
<p>都是一个账号。好吧，不过是再也不能贴出2005年的搜索记录罢了。</p>
<p>###少于三个备份的数据是不存在的<br>云同步，云备份安全吗？这就是一个活生生的例子。云服务不过是使用权而已，什么你的还是你的，这仅限于它存在的情况下，<strong>不存在于你自己控制的，拥有所有权的永久存储设备上的数据都是不存在的</strong>！而且，为了防止存储设备损坏，至少要三个备份，分别存放于大于1千米范围外的地方。</p>
<p>云同步，云备份看起来多么美好。自家的硬盘有可能：</p>
<ul>
<li>使用时间过长，挂</li>
<li>不小心清空，挂</li>
<li>高空坠落，挂</li>
<li>产品品质，挂</li>
</ul>
<p>但是，比起不知道谁执行了<code>rm /</code>，不知道哪个机房电力供应故障，不知道什么时候倒闭。<strong>自家的硬盘至少挂得清清白白，挂也挂在自己手上，挂了也是自家的<em>坏硬盘</em></strong>！</p>
<hr>
<p>总之，google你个sb，我跟你没玩！<br /><br>我已经在考虑写一个自动提交<a target="_blank" rel="noopener" href="http://support.google.com/accounts/bin/request.py?hl=zh-Hans&contact_type=disabled2&p=mail">与我们联系</a>的脚本，每天一发，直到google玩完，要么我玩完。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-migrate-from-wordpress-to-jekyll" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-10-25T07:00:00.000Z"><a href="/2012/10/migrate-from-wordpress-to-jekyll/">2012-10-25</a></time>
      
      
  
    <h1 class="title"><a href="/2012/10/migrate-from-wordpress-to-jekyll/">从wordpress迁移到jekyll</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>又到月末了，这一个月还没写blog呢。。虽然这段时间发生了很多事</p>
<ul>
<li>做了一个外包</li>
<li>回了一趟家</li>
<li>公司要搬家了</li>
</ul>
<p>不过因为沉迷了半个月的D3，一个月的WOW，人变懒了。再加上wordpress的html写作方式搞得我非常没有写blog的欲望，一直想迁移到jekyll用markdown来写。为了每个月写一篇blog的目标，于是下决心迁移。。</p>
<p>由于jekyll太简单了，工具又少，不能立即使用，于是用<a target="_blank" rel="noopener" href="http://jekyllbootstrap.com/">jekyllbootstrap</a>作为基础。另一个热门的选择是<a target="_blank" rel="noopener" href="http://octopress.org/">Octopress</a>。</p>
<p>不过这两都太jekyll了，于是把原来wordpress的主题以前迁移了过来。</p>
<h2 id="迁移准备"><a href="#迁移准备" class="headerlink" title="迁移准备"></a>迁移准备</h2><p>首先，<strong>迁移评论</strong>，在使用wordpress时就开始准备，把评论导入disqus，然后用disqus替换wordpress的评论系统，工作了一周没有问题之后开始迁移。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><strong>安装jekyll本地环境</strong>，参照<a target="_blank" rel="noopener" href="https://github.com/mojombo/jekyll/wiki/install">https://github.com/mojombo/jekyll/wiki/install</a>即可。<strong>为了语法高亮，把Pygments也装上</strong></p>
<p><strong>安装JB</strong>，跟着jekyllbootstrap首页上的<a target="_blank" rel="noopener" href="http://jekyllbootstrap.com/">Zero to Hosted Jekyll Blog in 3 Minutes</a>做就好了</p>
<h2 id="迁移"><a href="#迁移" class="headerlink" title="迁移"></a>迁移</h2><p><strong>将wordpress内容导出成xml文件</strong></p>
<p><strong>将xml变成markdown</strong>:<a target="_blank" rel="noopener" href="https://github.com/thomasf/exitwp">https://github.com/thomasf/exitwp</a></p>
<h2 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h2><p><code>jekyll --server</code> 然后访问本地 <code>http://localhost:4000/</code> 看看效果。<br>因为用了jekyllbootstrap，可以去 <a target="_blank" rel="noopener" href="http://themes.jekyllbootstrap.com/">http://themes.jekyllbootstrap.com/</a> 选择主题安装</p>
<p><code>rake post title=&quot;asdfasdf&quot;</code> 新建文章<br><br><code>rake page name=&quot;adsfasdf/asdf&quot;</code> 新建页面<br><br>然后就是用任何编辑器开始编写了</p>
<p>对了，发现maruku对于解析有中文的list，比如开头的那个，有bug，而且github的效果和本地是不完全一样的。。即使是markdown也问题多多啊。。</p>
<h2 id="上传github"><a href="#上传github" class="headerlink" title="上传github"></a>上传github</h2><p>把整个git项目push上去就好，不过后来发现_site文件夹是不需要的，github会自己重新生成一遍。这样就不需要每次都几千行改动了。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-python-web-proxy-on-ba" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-09-07T19:28:37.000Z"><a href="/2012/09/python-web-proxy-on-ba/">2012-09-07</a></time>
      
      
  
    <h1 class="title"><a href="/2012/09/python-web-proxy-on-ba/">运行于百度云平台的Python网页代理</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>最近看到好多求BAE邀请的帖子，至少现在免费，于是也去求了一个，然后顺带开了python权限。<br>随便看了下python环境，版本够新，该有的库和框架也比较齐全，fetchurl接口完全封装在内置库中，至少比起GAE来说，迁移成本低多了。沙盒也是恰到好处的感觉，初步感觉不错。<br>提供的服务也涉及各个方面，云存储，数据库，cache，队列该有的都有了。<br>fetch taskqueue能fetchurl和离线下载（支持最大4G，10小时下载）体现了百度的特色吧，感觉眼前一亮，虽然已经有百度网盘提供类似服务，但是作为开发平台，也能作出一些有意思的应用。<br>消息服务自带1000条短信1W封邮件每月。</p>
<p>不过，百度依然体现了没有设计师的特色，界面和各个服务的开发包各不相同。。</p>
<p>由于BAE政策和稳定性尚不明朗，不打算在上面做能够保存数据的应用。<br>于是，做一个网页代理吧</p>
<p><a target="_blank" rel="noopener" href="http://pyproxy.duapp.com/https://github.com/binux">http://pyproxy.duapp.com/https://github.com/binux</a></p>
<p>其他API：  </p>
<p><a target="_blank" rel="noopener" href="http://pyproxy.duapp.com/rewrite/http://www.baidu.com/">http://pyproxy.duapp.com/rewrite/http://www.baidu.com/</a><br>使用这个地址访问会将页面上的url都加上代理的前缀</p>
<p><a target="_blank" rel="noopener" href="http://pyproxy.duapp.com/allow_origin/http://httpbin.duapp.com/ip">http://pyproxy.duapp.com/allow_origin&#x2F;http://httpbin.duapp.com/ip</a><br>用于ajax跨域读取，比如这样：<br>您的IP是：<span id="origin_ip"></span> 请自行查看源码  </p>
<script src="http://lib.sinaapp.com/js/jquery/1.8.3/jquery.min.js"></script>
<script>
 $.get("http://pyproxy.duapp.com/allow_origin/http://httpbin.duapp.com/ip",
  function(data) {
  $("#origin_ip").text(data.origin);
});
</script>

<p>不得不说，百度网速也太不怎么样了吧。。<br>第一次写网页代理，地址改写还真麻烦，xmlhttprequest好歹是拦截了，js动态加载的元素就算了。。</p>
<p>附上rewrite代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># vim: set et sw=4 ts=4 sts=4 ff=unix fenc=utf8:</span></span><br><span class="line"><span class="comment"># Author: Binux&lt;17175297.hk@gmail.com&gt;</span></span><br><span class="line"><span class="comment">#         http://binux.me</span></span><br><span class="line"><span class="comment"># Created on 2012-09-06 22:22:21</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urlparse</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">xmlhttprequest = <span class="string">&#x27;&#x27;&#x27;XMLHttpRequest.prototype._open=XMLHttpRequest.prototype.open;</span></span><br><span class="line"><span class="string">XMLHttpRequest.prototype.open = function(m,u,a,us,p) &#123;</span></span><br><span class="line"><span class="string">  var proxyurl=&#x27;%s&#x27;, baseurl=&#x27;%s&#x27;, a=document.createElement(&#x27;a&#x27;);</span></span><br><span class="line"><span class="string">  a.href=u;u=a.href.replace(proxyurl,&#x27;&#x27;);u=proxyurl+(u.indexOf(&#x27;http&#x27;)==0?u:baseurl+u);</span></span><br><span class="line"><span class="string">  if(console&amp;&amp;console.log)&#123;console.log(&quot;XMLHTTPRequest:&quot;,u);&#125;</span></span><br><span class="line"><span class="string">  return this._open(m,u,a,us,p);</span></span><br><span class="line"><span class="string">&#125;&#x27;&#x27;&#x27;</span></span><br><span class="line">http_re = re.<span class="built_in">compile</span>(<span class="string">&quot;https?://&quot;</span>, re.I)</span><br><span class="line">href_re1 = re.<span class="built_in">compile</span>(<span class="string">&quot;((href|src|action)\s*=\s*\&quot;([^\&quot;&lt;&gt;]+)\&quot;)&quot;</span>, re.I)</span><br><span class="line">href_re2 = re.<span class="built_in">compile</span>(<span class="string">&quot;((href|src|action)\s*=\s*\&#x27;([^\&#x27;&lt;&gt;]+)\&#x27;)&quot;</span>, re.I)</span><br><span class="line">href_re3 = re.<span class="built_in">compile</span>(<span class="string">&quot;((href|src|action)\s*=\s*([^\&#x27;\&quot;\s&lt;&gt;]+))&quot;</span>, re.I)</span><br><span class="line">xmlhttprequest_re = re.<span class="built_in">compile</span>(<span class="string">&quot;&lt;script&quot;</span>, re.I)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rewrite</span>(<span class="params">proxyurl, baseurl, content</span>):</span><br><span class="line">    <span class="comment">#content = http_re.sub(proxyurl+&quot;\g&lt;0&gt;&quot;, content)</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">all</span>, href, url <span class="keyword">in</span> href_re1.findall(content):</span><br><span class="line">        rewrited_url = urlparse.urljoin(baseurl, url)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> rewrited_url.startswith(proxyurl) <span class="keyword">and</span> rewrited_url.startswith(<span class="string">&quot;http&quot;</span>):</span><br><span class="line">            content = content.replace(<span class="built_in">all</span>, <span class="string">&#x27;%s=&quot;%s%s&quot;&#x27;</span> % (href, proxyurl, rewrited_url))</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">all</span>, href, url <span class="keyword">in</span> href_re2.findall(content):</span><br><span class="line">        rewrited_url = urlparse.urljoin(baseurl, url)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> rewrited_url.startswith(proxyurl) <span class="keyword">and</span> rewrited_url.startswith(<span class="string">&quot;http&quot;</span>):</span><br><span class="line">            content = content.replace(<span class="built_in">all</span>, <span class="string">&#x27;%s=\&#x27;%s%s\&#x27;&#x27;</span> % (href, proxyurl, rewrited_url))</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">all</span>, href, url <span class="keyword">in</span> href_re3.findall(content):</span><br><span class="line">        rewrited_url = urlparse.urljoin(baseurl, url)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> rewrited_url.startswith(proxyurl) <span class="keyword">and</span> rewrited_url.startswith(<span class="string">&quot;http&quot;</span>):</span><br><span class="line">            content = content.replace(<span class="built_in">all</span>, <span class="string">&#x27;%s=&quot;%s%s&quot;&#x27;</span> % (href, proxyurl, rewrited_url))</span><br><span class="line">    content = content.replace(<span class="string">&quot;&lt;/title&gt;&quot;</span>, <span class="string">&quot;&lt;/title&gt;&lt;script&gt;%s&lt;/script&gt;&quot;</span> % xmlhttprequest % (proxyurl, urlparse.urljoin(baseurl, <span class="string">&quot;/&quot;</span>)), <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> content</span><br><span class="line">    </span><br></pre></td></tr></table></figure>


<p><a target="_blank" rel="noopener" href="https://gist.github.com/3663115">https://gist.github.com/3663115</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-find-larger-image-chrome-app" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-08-20T18:50:41.000Z"><a href="/2012/08/find-larger-image-chrome-app/">2012-08-20</a></time>
      
      
  
    <h1 class="title"><a href="/2012/08/find-larger-image-chrome-app/">批量找原图 —— Chrome APP</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>经常在G+上收图，但是整理做桌面的时候经常发现分辨率不够<br>几百张图，一个个去google image search太慢了</p>
<p>于是：<br><img src="/assets/image/find-larger-images.jpg"><br><a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/fbjeidmgokkiojabmnkgmcigfggeklak">https://chrome.google.com/webstore/detail/fbjeidmgokkiojabmnkgmcigfggeklak</a></p>
<p>拖入图片搜索<br>左键下载，右键预览</p>
<p>source：<br><a target="_blank" rel="noopener" href="https://github.com/binux/find-larger-images">https://github.com/binux/find-larger-images</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-thunderlixianexporter" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-07-21T23:11:57.000Z"><a href="/2012/07/thunderlixianexporter/">2012-07-21</a></time>
      
      
  
    <h1 class="title"><a href="/2012/07/thunderlixianexporter/">迅雷离线地址导出器——ThunderLixianExporter</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>按照计划，将loli.lu的导出功能带到官方原生界面上了。毕竟无论什么工具，都不如官方的稳定，方便。<br>虽然有一个Userscript的油猴脚本，但是实际上主要代码是直接插入到页面中的。。等稳定了，有时间了再做成完全的本地版吧。</p>
<h2 id="功能特性："><a href="#功能特性：" class="headerlink" title="功能特性："></a>功能特性：</h2><pre><code>* 迅雷离线原生界面

* 链接导出，aria2/wget下载命令导出，下载器导出文件，aria2 JSON-RPC支持

* 可以关闭不用的功能

* 统一的接口方便添加更多的下载方式
</code></pre>
<p><a target="_blank" rel="noopener" href="https://raw.github.com/binux/ThunderLixianExporter/master/ThunderLixianExporter.png"><img src="https://raw.github.com/binux/ThunderLixianExporter/master/ThunderLixianExporter.png"></a></p>
<p>油猴脚本： <a target="_blank" rel="noopener" href="https://raw.github.com/binux/ThunderLixianExporter/master/ThunderLixianExporter.user.js">ThunderLixianExporter.user.js</a></p>
<p>项目地址： <a target="_blank" rel="noopener" href="http://binux.github.com/ThunderLixianExporter/">http://binux.github.com/ThunderLixianExporter/</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-add_url_from_loli-lu_to_aria2" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-07-16T04:57:17.000Z"><a href="/2012/07/add_url_from_loli-lu_to_aria2/">2012-07-15</a></time>
      
      
  
    <h1 class="title"><a href="/2012/07/add_url_from_loli-lu_to_aria2/">从LOLI.LU直接添加资源到ARIA2</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <blockquote>
<p>loli.lu已关闭！<br>如需使用迅雷会员功能，请<a target="_blank" rel="noopener" href="http://vip.xunlei.com/">购买迅雷会员服务</a><br>如需在OSX，Linux环境下下载迅雷离线，请参阅<a href="/2012/07/thunderlixianexporter/">ThunderLixianExporter</a></p>
</blockquote>
<p>首先参照YAAW以RPC模式启动ARIA2，保证YAAW能正常工作。</p>
<p>在LOLI.LU中随便点开一个一个资源 &gt; 批量下载。<strong>右键点击</strong> 自定义，填入以下脚本（注意需要替换JSONRPC_PATH，和YAAW中的一样）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">to_aria2</span>(<span class="params">taskname, links, cookie</span>) &#123;</span><br><span class="line">  $.<span class="title function_">getScript</span>(<span class="string">&quot;https://raw.github.com/gist/3116833/aria2jsonrpc.js&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> aria2 = <span class="keyword">new</span> <span class="title class_">ARIA2</span>(<span class="string">&quot;&lt;your rpc path&gt;&quot;</span>);</span><br><span class="line">    $.<span class="title function_">each</span>(links, <span class="keyword">function</span>(<span class="params">i, n</span>) &#123;</span><br><span class="line">      aria2.<span class="title function_">addUri</span>(n.<span class="property">url</span>, &#123;<span class="attr">out</span>: n.<span class="property">title</span>, <span class="attr">header</span>: <span class="string">&#x27;Cookie: &#x27;</span>+cookie&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  str += <span class="string">&quot;taskname = &quot;</span>+taskname+<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">  str += <span class="string">&quot;cookie = &quot;</span>+cookie+<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">  str += <span class="string">&quot;==========================\n&quot;</span>;</span><br><span class="line">  $.<span class="title function_">each</span>(links, <span class="keyword">function</span>(<span class="params">i, n</span>) &#123;</span><br><span class="line">    str += <span class="string">&quot;links[&quot;</span>+i+<span class="string">&quot;].title = &quot;</span>+n.<span class="property">title</span>+<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<p>点击保存，点自定义，到YAAW中看是否添加成功了吧。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-aria2_yaaw" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-06-23T03:36:00.000Z"><a href="/2012/06/aria2_yaaw/">2012-06-22</a></time>
      
      
  
    <h1 class="title"><a href="/2012/06/aria2_yaaw/">aria2 + web前端 部署指南</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>更新了openwrt的固件版本之后，我的wr703n上的aria2终于可以开启rpc模式了。然后就是WNR3500L到货，虽然不能装openwrt，但是有optware一样ok。<br>虽然他们的平台各不相同，但是因为YAAW是没有依赖的，实际上都是分为三步：</p>
<ol>
<li><p>挂载U盘</p>
</li>
<li><p>安装aria2</p>
</li>
<li><p>打开<a target="_blank" rel="noopener" href="http://binux.github.com/yaaw/">YAAW</a></p>
</li>
</ol>
<p>非常简单没有压力。</p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h3 id="第一步：挂载U盘"><a href="#第一步：挂载U盘" class="headerlink" title="第一步：挂载U盘"></a>第一步：挂载U盘</h3><p><strong>openwrt:</strong>  <a target="_blank" rel="noopener" href="http://wiki.openwrt.org/zh-cn/doc/howto/usb.storage">http://wiki.openwrt.org/zh-cn/doc/howto/usb.storage</a><br><br><strong>dd-wrt：</strong>  刷一个带USB的固件，固件中自动mount到&#x2F;opt<br><br><strong>tomato：</strong>  刷一个带USB的固件，固件中自动mount到&#x2F;opt<br></p>
<h3 id="第二步：安装aria2"><a href="#第二步：安装aria2" class="headerlink" title="第二步：安装aria2"></a>第二步：安装aria2</h3><p><strong>openwrt:</strong> <code>opkg update &amp;&amp; opkg install aria2</code><br><br><strong>dd-wrt:</strong> <code>wget http://www.3iii.dk/linux/optware/optware-install-ddwrt.sh -O - | tr -d &#39;\r&#39; &gt; /tmp/optware-install.sh &amp;&amp; sh /tmp/optware-install.sh &amp;&amp; ipkg-opt update &amp;&amp; ipkg-opt install aria2</code><br><br><strong>tomato:</strong> <a target="_blank" rel="noopener" href="http://tomatousb.org/tut:optware-installation">http://tomatousb.org/tut:optware-installation</a><br></p>
<p>启动命令： <code>aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -c</code><br><br>如果没有问题的话，可以将 <code>aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -c -D</code> 加入开机启动<br><br>如果有问题的话，看输出的提示，有可能要加入<code>--event-poll=select</code>什么的参数<br></p>
<h3 id="第三步：打开YAAW"><a href="#第三步：打开YAAW" class="headerlink" title="第三步：打开YAAW"></a>第三步：打开<a target="_blank" rel="noopener" href="http://binux.github.com/yaaw/">YAAW</a></h3><p>点击<a target="_blank" rel="noopener" href="http://binux.github.com/yaaw/demo/">demo</a>，在扳手处填入path： <code>http://&lt;ip_of_your_route&gt;:6800/jsonrpc</code>， 保存</p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>一些有用的aria2参数</p>
<p>-i &lt;file&gt; 导入从loli.lu导出的aria2文件<br><br>-j &lt;num&gt; 同时下载数限制，由于路由和总带宽限制，建议设为3（默认5）<br><br>-x &lt;num&gt; 同一个服务器的同时链接数，建议为5-10（默认1）<br><br>-k &lt;size&gt; 文件最小分片，文件最多的线程数取决于能分出多少片，当文件小于最小分片大小时，只能开出一个线程，建议为2M（默认20M）<br><br>-s &lt;num&gt; 一个文件最多用几个线程下载，建议为8-10（默认5）<br><br>–file-allocation &lt;none,prealloc,falloc&gt; 文件预分配，如果USB设备是U盘，SD卡，预分配浪费时间，建议为none（默认prealloc)<br></p>
<p>更多参数请访问 <a target="_blank" rel="noopener" href="http://aria2.sourceforge.net/manual/en/html/">Aria2 Manual</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/page/3/" class="alignleft prev">上一页</a>
  
  
    <a href="/page/5/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="as_sitesearch" value="binux.blog">
  </form>
</div>


  <div class="widget tag about_me">
  <h3 class="title">About Me</h3>
  <ul class="entry">
    
    <li>
      <span class="icon email"></span>
      <a href="mailto:roy@binux.me" target=_blank rel=me>roy@binux.me</a>
    </li>
    

    
    <li>
      <span class="icon github"></span>
      <a href="https://github.com/binux" target=_blank rel=me>github.com/binux</a>
    </li>
    

    
    <li>
      <span class="icon twitter"></span>
      <a href="https://twitter.com/roybinux" target=_blank rel=me>@roybinux</a>
    </li>
    

    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2022/09/cat-planet-bot-part-2-video-capture-and-classification/">猫之城物理钓鱼挂（二）：图像采集以及画面分类</a>
      </li>
    
      <li>
        <a href="/2022/08/cat-planet-bot-part-1-touch-simulation/">猫之城物理钓鱼挂（一）：物理模拟触屏点击</a>
      </li>
    
      <li>
        <a href="/2020/01/home-assistant/">家居自动化</a>
      </li>
    
      <li>
        <a href="/2019/03/zerotier-nat-gateway-and-iptables-debug/">Zerotier Nat 网关出口 和 iptables 调试</a>
      </li>
    
      <li>
        <a href="/2018/10/girls-frontline-ankulua-vision/">少女前线拖尸脚本 和 生成它的可视化工具</a>
      </li>
    
  </ul>
</div>


  <div class="widget tag recent-comments">
  <h3 class="title">近期评论</h3>
  <div class="entry">
    <script type="text/javascript" src="//binux.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=32&amp;excerpt_length=50"></script>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2022 Roy Binux
  
</div>
<div class="clearfix"></div></footer>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/jquery.imagesloaded.min.js"></script>


<script src="/js/gallery.js"></script>



<script>
var disqus_shortname = 'binux';
var disqus_config = function () {
this.page.url = '';
this.page.identifier = '';
};

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script>
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
