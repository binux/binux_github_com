<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  
  <title>第 7 页 | Binuxの杂货铺</title>
  <meta name="author" content="Roy Binux">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Binuxの杂货铺"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="shortcut icon" href="/favicon.png">
  
    <link rel="alternate" href="/atom.xml" title="Binuxの杂货铺" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
  
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-36392342-1', 'auto');
	ga('send', 'pageview');

</script>


<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Binuxの杂货铺</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/null">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/projects">Projects</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article id="post-python-tools-chinese-digit" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-03-06T22:38:33.000Z"><a href="/2011/03/python-tools-chinese-digit/">2011-03-06</a></time>
      
      
  
    <h1 class="title"><a href="/2011/03/python-tools-chinese-digit/">python工具脚本： chinese_digit.py - 中文数字 转换为 阿拉伯数字</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <h2 id="简介："><a href="#简介：" class="headerlink" title="简介："></a>简介：</h2><p>经常会有这种需要将中文数字如 “五千三百零一”，全角数字”１２３４５”等等各种中文数字，转换成阿拉伯数字的场合。嘛，毕竟中文比较复杂，这种东西还是很发杂的。</p>
<p>下面这段代码来源于<a target="_blank" rel="noopener" href="http://bbs.chinaunix.net/redirect.php?tid=1755895">http://bbs.chinaunix.net/redirect.php?tid=1755895</a>。</p>
<p><strong>但是这段代码有如下的BUG：</strong></p>
<p>1、只能正确转换亿亿以下的数</p>
<p>2、”十万”等十之前没有个位数字的字符串转换错误</p>
<p><strong>而且有如下不足：</strong></p>
<p>1、不能转换大写中文（壹贰叁）和全角数字</p>
<p>2、不能转换电话号码（如 一零零五）</p>
<p>下面是一个修改过的python脚本，支持如上的所有特性，并修正了BUG</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"><span class="comment"># author: binux(17175297.hk@gmail.com)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">dict</span> =&#123;<span class="string">u&#x27;零&#x27;</span>:<span class="number">0</span>, <span class="string">u&#x27;一&#x27;</span>:<span class="number">1</span>, <span class="string">u&#x27;二&#x27;</span>:<span class="number">2</span>, <span class="string">u&#x27;三&#x27;</span>:<span class="number">3</span>, <span class="string">u&#x27;四&#x27;</span>:<span class="number">4</span>, <span class="string">u&#x27;五&#x27;</span>:<span class="number">5</span>, <span class="string">u&#x27;六&#x27;</span>:<span class="number">6</span>, <span class="string">u&#x27;七&#x27;</span>:<span class="number">7</span>, <span class="string">u&#x27;八&#x27;</span>:<span class="number">8</span>, <span class="string">u&#x27;九&#x27;</span>:<span class="number">9</span>, <span class="string">u&#x27;十&#x27;</span>:<span class="number">10</span>, <span class="string">u&#x27;百&#x27;</span>:<span class="number">100</span>, <span class="string">u&#x27;千&#x27;</span>:<span class="number">1000</span>, <span class="string">u&#x27;万&#x27;</span>:<span class="number">10000</span>,</span><br><span class="line">       <span class="string">u&#x27;０&#x27;</span>:<span class="number">0</span>, <span class="string">u&#x27;１&#x27;</span>:<span class="number">1</span>, <span class="string">u&#x27;２&#x27;</span>:<span class="number">2</span>, <span class="string">u&#x27;３&#x27;</span>:<span class="number">3</span>, <span class="string">u&#x27;４&#x27;</span>:<span class="number">4</span>, <span class="string">u&#x27;５&#x27;</span>:<span class="number">5</span>, <span class="string">u&#x27;６&#x27;</span>:<span class="number">6</span>, <span class="string">u&#x27;７&#x27;</span>:<span class="number">7</span>, <span class="string">u&#x27;８&#x27;</span>:<span class="number">8</span>, <span class="string">u&#x27;９&#x27;</span>:<span class="number">9</span>,</span><br><span class="line">                <span class="string">u&#x27;壹&#x27;</span>:<span class="number">1</span>, <span class="string">u&#x27;贰&#x27;</span>:<span class="number">2</span>, <span class="string">u&#x27;叁&#x27;</span>:<span class="number">3</span>, <span class="string">u&#x27;肆&#x27;</span>:<span class="number">4</span>, <span class="string">u&#x27;伍&#x27;</span>:<span class="number">5</span>, <span class="string">u&#x27;陆&#x27;</span>:<span class="number">6</span>, <span class="string">u&#x27;柒&#x27;</span>:<span class="number">7</span>, <span class="string">u&#x27;捌&#x27;</span>:<span class="number">8</span>, <span class="string">u&#x27;玖&#x27;</span>:<span class="number">9</span>, <span class="string">u&#x27;拾&#x27;</span>:<span class="number">10</span>, <span class="string">u&#x27;佰&#x27;</span>:<span class="number">100</span>, <span class="string">u&#x27;仟&#x27;</span>:<span class="number">1000</span>, <span class="string">u&#x27;萬&#x27;</span>:<span class="number">10000</span>,</span><br><span class="line">       <span class="string">u&#x27;亿&#x27;</span>:<span class="number">100000000</span>&#125;</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getResultForDigit</span>(<span class="params">a, encoding=<span class="string">&quot;utf-8&quot;</span></span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(a, <span class="built_in">str</span>):</span><br><span class="line">        a = a.decode(encoding)</span><br><span class="line"></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    tmp = <span class="number">0</span></span><br><span class="line">    Billion = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> count &lt; <span class="built_in">len</span>(a):</span><br><span class="line">        tmpChr = a[count]</span><br><span class="line">        <span class="comment">#print tmpChr</span></span><br><span class="line">        tmpNum = <span class="built_in">dict</span>.get(tmpChr, <span class="literal">None</span>)</span><br><span class="line">        <span class="comment">#如果等于1亿</span></span><br><span class="line">        <span class="keyword">if</span> tmpNum == <span class="number">100000000</span>:</span><br><span class="line">            result = result + tmp</span><br><span class="line">            result = result * tmpNum</span><br><span class="line">            <span class="comment">#获得亿以上的数量，将其保存在中间变量Billion中并清空result</span></span><br><span class="line">            Billion = Billion * <span class="number">100000000</span> + result</span><br><span class="line">            result = <span class="number">0</span></span><br><span class="line">            tmp = <span class="number">0</span></span><br><span class="line">        <span class="comment">#如果等于1万</span></span><br><span class="line">        <span class="keyword">elif</span> tmpNum == <span class="number">10000</span>:</span><br><span class="line">            result = result + tmp</span><br><span class="line">            result = result * tmpNum</span><br><span class="line">            tmp = <span class="number">0</span></span><br><span class="line">        <span class="comment">#如果等于十或者百，千</span></span><br><span class="line">        <span class="keyword">elif</span> tmpNum &gt;= <span class="number">10</span>:</span><br><span class="line">            <span class="keyword">if</span> tmp == <span class="number">0</span>:</span><br><span class="line">                tmp = <span class="number">1</span></span><br><span class="line">            result = result + tmpNum * tmp</span><br><span class="line">            tmp = <span class="number">0</span></span><br><span class="line">        <span class="comment">#如果是个位数</span></span><br><span class="line">        <span class="keyword">elif</span> tmpNum <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            tmp = tmp * <span class="number">10</span> + tmpNum</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    result = result + tmp</span><br><span class="line">    result = result + Billion</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>


<p>**完整版带测试用例的版本可以从这里获得：</p>
<p>** <a target="_blank" rel="noopener" href="https://github.com/binux/binux-tools/blob/master/python/chinese_digit.py">https://github.com/binux/binux-tools/blob/master/python/chinese_digit.py</a></p>
<p>测试用例来源于：<a target="_blank" rel="noopener" href="http://fayaa.com/code/view/37/">http://fayaa.com/code/view/37/</a>（不记得一开始在哪看到的了&#x3D;。&#x3D;）</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-python-tools-pprint" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-03-06T22:16:25.000Z"><a href="/2011/03/python-tools-pprint/">2011-03-06</a></time>
      
      
  
    <h1 class="title"><a href="/2011/03/python-tools-pprint/">python工具脚本：pprint.py 中文支持</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>这是一个支持unicode的pprint修改版本，来自<a target="_blank" rel="noopener" href="http://groups.google.com/group/python-cn/browse_thread/thread/d881b328386ce396/e68057c8a7531326">http://groups.google.com/group/python-cn/browse_thread&#x2F;thread&#x2F;d881b328386ce396&#x2F;e68057c8a7531326</a></p>
<p>默认使用pprint的时候，list, tuple, dict中的中文都显示成这个样子：</p>
<blockquote>
<p>&gt;&gt;&gt; from pprint import pprint<br>&gt;&gt;&gt; pprint([‘中文字符串’, u’中文统一码字符串’, {‘中文键名’: ‘中文键值’, u’中文 unicode 键名’: u’中文unicode 键值’}])</p>
<p>[‘xe4xb8xadxe6x96x87xe5xadx97xe7xacxa6xe4xb8xb2’,<br>u’u4e2du6587u7edfu4e00u7801u5b57u7b26u4e32’,<br>{u’u4e2du6587 unicode u952eu540d’: u’u4e2du6587 unicode<br>u952eu503c’,<br>‘xe4xb8xadxe6x96x87xe9x94xaexe5x90x8d’:<br>‘xe4xb8xadxe6x96x87xe9x94xaexe5x80xbc’}]</p>
</blockquote>
<p>修改之后会把字符串中文形式输出，而不是repr的形式：</p>
<blockquote>
<p>&gt;&gt;&gt; from pprint import pprint<br>&gt;&gt;&gt; pprint([‘中文字符串’, u’中文统一码字符串’, {‘中文键名’: ‘中文键值’, u’中文 unicode 键名’: u’中文unicode 键值’}])</p>
<p>[‘中文字符串’,<br>u’中文统一码字符串’,<br>{u’中文 unicode 键名’: u’中文 unicode 键值’,<br>‘中文键名’: ‘中文键值’}]</p>
</blockquote>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-e5a4aae5b0b4e5b0ace4ba86efbc8ce4b88de68c82e4bba3e79086e8a2abe5a299e5a299efbc8ce68c82vpne8a2abgooglee5a299" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-03-05T09:28:30.000Z"><a href="/2011/03/e5a4aae5b0b4e5b0ace4ba86efbc8ce4b88de68c82e4bba3e79086e8a2abe5a299e5a299efbc8ce68c82vpne8a2abgooglee5a299/">2011-03-05</a></time>
      
      
  
    <h1 class="title"><a href="/2011/03/e5a4aae5b0b4e5b0ace4ba86efbc8ce4b88de68c82e4bba3e79086e8a2abe5a299e5a299efbc8ce68c82vpne8a2abgooglee5a299/">太尴尬了，不挂代理被墙墙，挂VPN被google墙</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>一直在用eduvpn的代理，价格相对便宜，也差不多够用了。不过郁闷的是，不知道他们那些家伙拿这台VPN搞了什么，所有的google ape托管的服务，包括我自己的blog都被墙了&#x3D;。&#x3D;</p>
<blockquote>
<p>Your client does not have permission to get URL <code>/</code> from this server. (Client IP address: 173.244.202.xx)  </p>
<p>You are accessing this page from a forbidden country.</p>
</blockquote>
<p>结果还是得IPV6啊。。真是麻烦。虽然尝试使用IPV6的DNS，但是这完全不能把*.appspot.com解析成ipv6地址嘛！</p>
<blockquote>
<p>2001:470:20::2<br>74.82.42.42</p>
</blockquote>
<p>结果还是改HOSTS：<a target="_blank" rel="noopener" href="https://docs.google.com/Doc?docid=0ARhAbsvps1PlZGZrZG14bnRfNjFkOWNrOWZmcQ&hl=zh_CN">https://docs.google.com/Doc?docid=0ARhAbsvps1PlZGZrZG14bnRfNjFkOWNrOWZmcQ&hl=zh_CN</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-css_selector_for_fulltext" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-02-11T21:19:06.000Z"><a href="/2011/02/css_selector_for_fulltext/">2011-02-11</a></time>
      
      
  
    <h1 class="title"><a href="/2011/02/css_selector_for_fulltext/">CssFullText - CSS选择器 说明</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <h2 id="CSS-Selector-简介："><a href="#CSS-Selector-简介：" class="headerlink" title="CSS Selector 简介："></a>CSS Selector 简介：</h2><p>CSS 选择器( css selector) 是CSS的灵魂。对于一个HTML页面来说，CSS选择器是方便的元素(element)选取工具。</p>
<h2 id="支持的选择器类型："><a href="#支持的选择器类型：" class="headerlink" title="支持的选择器类型："></a>支持的选择器类型：</h2><ul>
<li>派生选择器 ( E F)</li>
<li>id 选择器 ( E#id )</li>
<li>类选择器 ( E.class )</li>
<li>属性选择器 ( E[attr&#x3D;val] )</li>
</ul>
<p>暂时不支持伪类选择器( E:last )。</p>
<h2 id="选择器语法简介："><a href="#选择器语法简介：" class="headerlink" title="选择器语法简介："></a>选择器语法简介：</h2><h3 id="派生选择器"><a href="#派生选择器" class="headerlink" title="派生选择器"></a>派生选择器</h3><p>派生选择器用于根据元素的上下文关系定位元素。<br>HTML 代码:</p>
<pre><code>&lt;form&gt;
  &lt;label&gt;Name:&lt;/label&gt;
  &lt;input name=&quot;name&quot; /&gt;
  &lt;fieldset&gt;
      &lt;label&gt;Newsletter:&lt;/label&gt;
      &lt;input name=&quot;newsletter&quot; /&gt;
 &lt;/fieldset&gt;
&lt;/form&gt;
&lt;input name=&quot;none&quot; /&gt;
</code></pre>
<p><strong>选择器：</strong>form input<br><strong>选择元素：</strong><code>&lt;input name=&quot;name&quot; /&gt;</code>, <code>&lt;input name=&quot;newsletter&quot; /&gt;</code></p>
<p>也可以使用子类选择器( E &gt; F )，仅选择元素的子元素，而不会选取其孙子元素<br>对于以上代码， <strong>选择器：</strong>form &gt; input<br><strong>选择元素：</strong><code>&lt;input name=&quot;name&quot; /&gt;</code></p>
<h3 id="id-选择器"><a href="#id-选择器" class="headerlink" title="id 选择器"></a>id 选择器</h3><p>id 选择器用于选取特定id的元素。<br>HTML 代码:</p>
<pre><code>&lt;div id=&quot;notMe&quot;&gt;&lt;p&gt;id=&quot;notMe&quot;&lt;/p&gt;&lt;/div&gt;
&lt;div id=&quot;myDiv&quot;&gt;id=&quot;myDiv&quot;&lt;/div&gt;
</code></pre>
<p><strong>选择器：</strong>#myDiv<br><strong>选择元素：</strong><code>&lt;div id=&quot;myDiv&quot;&gt;id=&quot;myDiv&quot;&lt;/div&gt;</code></p>
<h3 id="类选择器"><a href="#类选择器" class="headerlink" title="类选择器"></a>类选择器</h3><p>类选择器用于选取拥有特性class的元素。<br>HTML 代码:</p>
<pre><code>&lt;div class=&quot;notMe&quot;&gt;div class=&quot;notMe&quot;&lt;/div&gt;
&lt;div class=&quot;Me myClass&quot;&gt;div class=&quot;Me myClass&quot;&lt;/div&gt;
&lt;span class=&quot;myClass&quot;&gt;span class=&quot;myClass&quot;&lt;/span&gt;
</code></pre>
<p><strong>选择器：</strong>.Me<br><strong>选择元素：</strong><code>&lt;div class=&quot;Me myClass&quot;&gt;div class=&quot;Me myClass&quot;&lt;/div&gt;</code></p>
<h3 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h3><p>选择包含特定属性的元素，不支持在同一个选择器中使用多个属性选择器（ span[hello&#x3D;”Cleveland”][goodbye&#x3D;”Columbus”] ）<br>[attribute]         包含属性<br>[attribute&#x3D;value]         属性等于特定值的元素<br>[attribute<del>value]         匹配给定的属性包含特定值的元素<br>[attribute!value]         匹配给定的属性不包含特定值的元素（not</del> ）<br>[attribute|value]         匹配如”lang”属性中的en, en-US, en-cockney<br>[attribute^value]         匹配给定的属性以特定值开头的元素<br>[attribute$value]         匹配给定的属性以特定值结尾的元素<br>[attribute*value]         匹配给定的属性的值中包含给定的字符串<br><strong>例子</strong><br>参见：<a target="_blank" rel="noopener" href="http://www.w3.org/TR/CSS2/selector.html#attribute-selectors">http://www.w3.org/TR/CSS2/selector.html#attribute-selectors</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-gentoo_pptp_vpn" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-01-28T10:31:24.000Z"><a href="/2011/01/gentoo_pptp_vpn/">2011-01-28</a></time>
      
      
  
    <h1 class="title"><a href="/2011/01/gentoo_pptp_vpn/">Gentoo PPTP VPN使用指南</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>由于gentoo的”清凉化”解决方案没有提供图形化的pptp的配置方案的原因。。不得不手动配置pptp<br>gentoo下安装配置请参考<a target="_blank" rel="noopener" href="http://en.gentoo-wiki.com/wiki/PPTP">http://en.gentoo-wiki.com/wiki/PPTP</a> 。并且其提供了一个半自动化的pptp配置工具，不用手写配置文件了。。</p>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><h5 id="默认通过VPN访问网络"><a href="#默认通过VPN访问网络" class="headerlink" title="默认通过VPN访问网络"></a>默认通过VPN访问网络</h5><p>为了通过vpn上网，请在<strong>File:</strong> &#x2F;etc&#x2F;ppp&#x2F;peers&#x2F;my_vpn文件中添加：<br>defaultroute<br>即可默认通过VPN连接网络</p>
<h5 id="自动修改路由"><a href="#自动修改路由" class="headerlink" title="自动修改路由"></a>自动修改路由</h5><p>同时通过 <a target="_blank" rel="noopener" href="http://code.google.com/p/chnroutes/">http://code.google.com/p/chnroutes/</a> 这个项目生成vpnup和vpndown脚本，重命名成100-route.sh分别cp到&#x2F;etc&#x2F;ppp&#x2F;ip-up.d&#x2F;和&#x2F;etc&#x2F;ppp&#x2F;ip-down.d&#x2F;中，及可以使国内ip走国内线路，加快访问速度，又不影响翻墙。<br>不过这里有一个地方需要修改。由于上面我们通过defaultroute使得默认网关有两个，原先的vpnup无法找到默认网关，请手动修改vpnup中的OLDGW为你的网关。</p>
<h5 id="能够Ping通网络，TCP连接无法访问"><a href="#能够Ping通网络，TCP连接无法访问" class="headerlink" title="能够Ping通网络，TCP连接无法访问"></a>能够Ping通网络，TCP连接无法访问</h5><p>我在使用he.net的VPN时，pon连接上，改了路由之后能够ping通<a target="_blank" rel="noopener" href="http://www.google.com,并且能够正常dns.但是无法网页时一直超时/">www.google.com，并且能够正常DNS。但是无法网页时一直超时</a>(后来我才注意到状态一直是sending request)。。。。<br>查看了各种文档（<a target="_blank" rel="noopener" href="http://pptpclient.sourceforge.net/howto-diagnosis.phtml#connections_freeze%EF%BC%89%E7%A1%AE%E8%AE%A4%E6%98%AFmtu%E8%BF%87%E5%A4%A7%E9%80%A0%E6%88%90%E3%80%82%E5%9C%A8/etc/ppp/peer/my_vpn%E6%96%87%E4%BB%B6%E4%B8%AD%E6%B7%BB%E5%8A%A0">http://pptpclient.sourceforge.net/howto-diagnosis.phtml#connections_freeze）确认是mtu过大造成。在/etc/ppp/peer/my_vpn文件中添加</a><br>mtu 1200<br>或通过ifconfig ppp0 mtu 1200测试到可用值，修改即可</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-gentoo_rtorrent_ipv6_support" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-01-23T20:25:43.000Z"><a href="/2011/01/gentoo_rtorrent_ipv6_support/">2011-01-23</a></time>
      
      
  
    <h1 class="title"><a href="/2011/01/gentoo_rtorrent_ipv6_support/">Gentoo rtorrent IPV6 支持</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>问题：</p>
<blockquote>
<p>gentoo中rtorrent连接ipv6 tracker的时候显示”Track :Couldn’t resolve host name”</p>
</blockquote>
<p>解决：</p>
<p>既然是gentoo那么就用gentoo的emerge解决吧</p>
<ol>
<li><p>去<a target="_blank" rel="noopener" href="http://libtorrent.rakshasa.no/ticket/1111">http://libtorrent.rakshasa.no/ticket/1111</a>找对应版本的补丁（注意，补丁修改了多次，尽量使用最新的。第一个版本甚至无法编译通过）</p>
</li>
<li><p>将补丁下载到portage的目录</p>
</li>
</ol>
<pre><code>cd /usr/portage/net-libs/libtorrent/files
# 请使用最新版本的补丁
wget http://home.samfundet.no/~sesse/libtorrent-0.12.6-ipv6-07.patch
mv libtorrent-0.12.6-ipv6-07.patch libtorrent-0.12.6-ipv6.patch

cd ..
</code></pre>
<ol start="3">
<li>修改ebuild文件</li>
</ol>
<pre><code>src_prepare() &#123;
    epatch &quot;$&#123;FILESDIR&#125;&quot;/$&#123;P&#125;-gcc44.patch
    epatch &quot;$&#123;FILESDIR&#125;&quot;/$&#123;P&#125;-ipv6.patch
    elibtoolize
&#125;
</code></pre>
<ol start="4">
<li>重新生成签名, 重新emerge</li>
</ol>
<pre><code>ebuild libtorrent-0.12.6.ebuild digest
emerge libtorrent
</code></pre>
<p>同理修改rtorrent</p>
<pre><code>cd /usr/portage/net-p2p/rtorrent/files
# 请使用最新版本的补丁
wget http://home.samfundet.no/~sesse/rtorrent-0.8.6-ipv6-07.patch
mv rtorrent-0.8.6-ipv6-07.patch rtorrent-0.8.6-ipv6.patch

cd ..




src_prepare() &#123;
    epatch &quot;$&#123;FILESDIR&#125;&quot;/$&#123;P&#125;-canvas-fix.patch
    epatch &quot;$&#123;FILESDIR&#125;&quot;/$&#123;P&#125;-ipv6.patch
    elibtoolize
&#125;




ebuild rtorrent-0.8.6.ebuild digest
ebuild rtorrent-0.8.6.ebuild merge
</code></pre>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-gentoo_tips" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-01-22T11:49:03.000Z"><a href="/2011/01/gentoo_tips/">2011-01-22</a></time>
      
      
  
    <h1 class="title"><a href="/2011/01/gentoo_tips/">机器不好还是别玩gentoo了。。</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>受不了啊！！xserver编译4小时，装个chromium编译3小时，mplayer3小时。。。这也太费劲了。。</p>
<p>弄了几天，中文化，xserver，各种常用应用都弄好了，本来还打算弄点安装过程什么的 ，但是根据”you are not alone”原则，手册（<a target="_blank" rel="noopener" href="http://www.gentoo.org/doc/zh_cn/index.xml">http://www.gentoo.org/doc/zh_cn&#x2F;index.xml</a>）+google任何事情都能够解决了。<br>而且gentoo更多的是探索发现，不自己解决就没意义了。</p>
<p>嗯，不过还是有一些TIP的。。。</p>
<ol>
<li><p>emerge很强大，经常–search装软件很轻松</p>
</li>
<li><p>emerge -pv 很好用，能看到将要执行的动作，方便查看版本、关联软件等信息</p>
</li>
<li><p>软件库其实很新，不过很多都被mask了，查看 <a target="_blank" rel="noopener" href="http://www.gentoo.org/doc/zh_cn/handbook/handbook-x86.xml?part=3&chap=3">文档</a> 或者使用autounmask</p>
</li>
<li><p>编译的时候干点别的吧。。。</p>
</li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-first_install_genntoo" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-01-17T22:59:36.000Z"><a href="/2011/01/first_install_genntoo/">2011-01-17</a></time>
      
      
  
    <h1 class="title"><a href="/2011/01/first_install_genntoo/">Gentoo初装</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>看着越来越绚丽的ubuntu，不知道我的T40 PM1.5的破本还能不能支撑得了。。找了一些<a target="_blank" rel="noopener" href="http://linuxtoy.org/archives/lightweight-desktop-compare.html">轻量级桌面</a>。但是弄个不安装x的ubuntu感觉好没意思啊。<br>于是趁机尝试下传闻中的<a target="_blank" rel="noopener" href="http://www.gentoo.org/">gentoo</a>好了。</p>
<blockquote>
<p>首先，欢迎使用Gentoo。你将进入一个多选择和高性能的世界。Gentoo就意味着选择。当你安装Gentoo时，你将会清楚的了解到—-你能够选择怎样编译软件，如何安装Gentoo，以及使用哪种系统日志程序等等。</p>
</blockquote>
<p><img src="http://www.gentoo.org/images/gentoo-new.gif"></p>
<p>安装gentoo虽然需要一些linux基础，但是只要用过mount这样子的程度，照着<a target="_blank" rel="noopener" href="http://www.gentoo.org/doc/zh_cn/handbook/handbook-x86.xml">Gentoo Linux x86手册</a>还是没有什么问题的。</p>
<p>但是不同的是，您将获得一个自己亲手编译的内核（虽然是默认设置。。）和亲手安装的每一个软件（绝对不存在不知道干吗的软件存在）。<br>而这一切在Portage（gentoo的包管理器）的管理下，依赖关系什么都不用操心。</p>
<p>而且，比起装一个ubuntu，能清楚地看到安装程序都干了些什么。虽然麻烦，但是还是挺有成就感的。。<br>恩，下一步就是慢慢调教一个自己的应用环境～～</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-syntaxhighlighter_themes_desert" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-01-16T16:35:40.000Z"><a href="/2011/01/syntaxhighlighter_themes_desert/">2011-01-16</a></time>
      
      
  
    <h1 class="title"><a href="/2011/01/syntaxhighlighter_themes_desert/">SyntaxHighlighter/HighSyntax themes - VIM desert</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="http://binuximage.appspot.com/img/5001-HighSyntaxThemesDesert.png"><img src="http://binuximage.appspot.com/img/5001-HighSyntaxThemesDesert.png" alt="HighSyntaxThemesDesertDemo"></a></p>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>一直很喜欢vim的desert的配色，特别是它的comments天蓝色的配色，用了下<a target="_blank" rel="noopener" href="http://alexgorbatchev.com/wiki/SyntaxHighlighter">SyntaxHighlighter</a>的RDark也不是很满意。于是拿它改了一下。<br>顺便修改了以下边框，原来的第一行和边框上沿太接近了，于是给加了一行。。。</p>
<pre><code>/**
 * Desert SyntaxHighlighter theme based on color scheme by Hans Fugal
 * http://www.vim.org/scripts/script.php?script_id=105
 * Modified by Binux (http://binux.appspot.com/) 2011.1.16
 */
</code></pre>
<p>根据vim color scheme desert修改而成。</p>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><h4 id="SyntaxHighlighter"><a href="#SyntaxHighlighter" class="headerlink" title="SyntaxHighlighter"></a>SyntaxHighlighter</h4><p>1、下载css文件，更名为shThemeDesert.css<br>2、将css拷贝至styles目录，在页面中引用即可。</p>
<h4 id="HighSyntax-plugin-for-Micolog"><a href="#HighSyntax-plugin-for-Micolog" class="headerlink" title="HighSyntax plugin for Micolog"></a>HighSyntax plugin for Micolog</h4><p>1、下载css文件，更名为shThemeDesert.css<br>2、将css添加至micolog&#x2F;plugins&#x2F;highsyntax&#x2F;syntaxhighlighter.zip压缩文件的styles目录中。<br>3、修改micolog&#x2F;plugins&#x2F;highsyntax&#x2F;highsyntax.py，在54行添加高亮部分：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;theme&quot;</span> <span class="attr">id</span>=<span class="string">&quot;theme&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Default&quot;</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Django&quot;</span>&gt;</span>Django<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Eclipse&quot;</span>&gt;</span>Eclipse<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Emacs&quot;</span>&gt;</span>Emacs<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;FadeToGrey&quot;</span>&gt;</span>FadeToGrey<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Midnight&quot;</span>&gt;</span>Midnight<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;RDark&quot;</span>&gt;</span>RDark<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Desert&quot;</span>&gt;</span>Desert<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>




<p>3、在设置中启用即可</p>
<h3 id="下载链接"><a href="#下载链接" class="headerlink" title="下载链接"></a>下载链接</h3><blockquote>
<p><a target="_blank" rel="noopener" href="http://binuximage.appspot.com/data/3001-shThemeDesert.css">http://binuximage.appspot.com/data/3001-shThemeDesert.css</a></p>
</blockquote>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article id="post-e8bf98e698afe6b2a1e5bf8de4bd8fe38082e38082bloge5868de5bc80" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2011-01-15T16:31:40.000Z"><a href="/2011/01/e8bf98e698afe6b2a1e5bf8de4bd8fe38082e38082bloge5868de5bc80/">2011-01-15</a></time>
      
      
  
    <h1 class="title"><a href="/2011/01/e8bf98e698afe6b2a1e5bf8de4bd8fe38082e38082bloge5868de5bc80/">还是没忍住。。BLOG再开</a></h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>断断续续，乱七八糟，东写西写，也不知道开过多少个BLOG了。  </p>
<p>以至<a target="_blank" rel="noopener" href="http://blog.hexun.com/">和讯BLOG</a>都放弃给我发[和讯管理员提醒：您好久没有回来了]的垃圾邮件了。</p>
<p>不过PYTHON的却是令人愉快的语言啊。。没事写写这，写写那，快速开始，快速结束。完全不像C++，不弄个模板都懒得写include这种麻烦的事情。  </p>
<p>慢慢写了点东西，就忍不住记下来。。<a target="_blank" rel="noopener" href="http://appengine.google.com/">GAE</a>也越来越方便，果然还是自己的地盘好啊。。没钱这样足够了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">parse_args</span>():</span><br><span class="line">    <span class="keyword">global</span> args</span><br><span class="line">    parser = argparse.ArgumentParser(description=<span class="string">&#x27;auto convect data dump by DotaHIT to xml&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;FILE&#x27;</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&quot;FILE to work with&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;DIR&#x27;</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&quot;path dump to&quot;</span>)</span><br><span class="line">    args = parser.parse_args()</span><br></pre></td></tr></table></figure>


<p>慢慢的迁移到Linux环境下，现在回到到Windows下，没有console各种不习惯啊。多么方便的命令，python脚本都没有。除了WOW和1080p硬解，哦还有QQ（因为要分析它的协议），真没什么好留恋的了  </p>
<p>连两个<del>基友</del>舍友都跟着我Linux单系统了。。</p>
<p><a target="_blank" rel="noopener" href="http://binuximage.appspot.com/img/1001-[POPGO][durarara][11][GB][X264_AAC][1280x720][76999FCB][11-14-13].JPG"><img src="http://binuximage.appspot.com/img/1001-[POPGO][durarara][11][GB][X264_AAC][1280x720][76999FCB][11-14-13].JPG" alt="wbuntu in durarara"></a></p>
<p>虽然不知能坚持多久，不过就这样把：）</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/page/6/" class="alignleft prev">上一页</a>
  
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="as_sitesearch" value="binux.blog">
  </form>
</div>


  <div class="widget tag about_me">
  <h3 class="title">About Me</h3>
  <ul class="entry">
    
    <li>
      <span class="icon email"></span>
      <a href="mailto:roy@binux.me" target=_blank rel=me>roy@binux.me</a>
    </li>
    

    
    <li>
      <span class="icon github"></span>
      <a href="https://github.com/binux" target=_blank rel=me>github.com/binux</a>
    </li>
    

    
    <li>
      <span class="icon twitter"></span>
      <a href="https://twitter.com/roybinux" target=_blank rel=me>@roybinux</a>
    </li>
    

    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2022/09/cat-planet-bot-part-2-video-capture-and-classification/">猫之城物理钓鱼挂（二）：图像采集以及画面分类</a>
      </li>
    
      <li>
        <a href="/2022/08/cat-planet-bot-part-1-touch-simulation/">猫之城物理钓鱼挂（一）：物理模拟触屏点击</a>
      </li>
    
      <li>
        <a href="/2020/01/home-assistant/">家居自动化</a>
      </li>
    
      <li>
        <a href="/2019/03/zerotier-nat-gateway-and-iptables-debug/">Zerotier Nat 网关出口 和 iptables 调试</a>
      </li>
    
      <li>
        <a href="/2018/10/girls-frontline-ankulua-vision/">少女前线拖尸脚本 和 生成它的可视化工具</a>
      </li>
    
  </ul>
</div>


  <div class="widget tag recent-comments">
  <h3 class="title">近期评论</h3>
  <div class="entry">
    <script type="text/javascript" src="//binux.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=32&amp;excerpt_length=50"></script>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2022 Roy Binux
  
</div>
<div class="clearfix"></div></footer>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/jquery.imagesloaded.min.js"></script>


<script src="/js/gallery.js"></script>



<script>
var disqus_shortname = 'binux';
var disqus_config = function () {
this.page.url = '';
this.page.identifier = '';
};

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script>
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
