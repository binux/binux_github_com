<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  
  <title>收图自动化 | Binuxの杂货铺</title>
  <meta name="author" content="Roy Binux">
  
  <meta name="description" content="从小开始，我对“自动”特别着迷。小时候，去妈妈的工厂帮忙折包装盒，每个动作都是一样的，很无聊。我就想，如果我发明一个机器，重复折纸盒的动作，那我不就可以什么都不干，在家领工资了吗？于是，你也知道了，这份工作叫程序员。。。
虽然机器在不断地自动运行，我也没能在家什么都不干就领到工资。互联网的大潮下，自">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="收图自动化"/>
  <meta property="og:site_name" content="Binuxの杂货铺"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="shortcut icon" href="/favicon.png">
  
    <link rel="alternate" href="/atom.xml" title="Binuxの杂货铺" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
  
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-36392342-1', 'auto');
	ga('send', 'pageview');

</script>


<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Binuxの杂货铺</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/null">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/projects">Projects</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article id="post-yandere-automatic" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2013-03-03T08:00:00.000Z"><a href="/2013/03/yandere-automatic/">2013-03-03</a></time>
      
      
  
    <h1 class="p-name title" itemprop="headline name">收图自动化</h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>从小开始，我对“自动”特别着迷。小时候，去妈妈的工厂帮忙折包装盒，每个动作都是一样的，很无聊。我就想，如果我发明一个机器，重复折纸盒的动作，那我不就可以什么都不干，在家领工资了吗？于是，你也知道了，<strong>这份工作叫程序员</strong>。。。</p>
<p>虽然机器在不断地自动运行，我也没能在家什么都不干就领到工资。互联网的大潮下，自动变得如此简单，甚至有人说，互联网就是印钞机，只要程序还在执行，编写程序的人都放半年假都能赚钱。所以说，程序员这个职业是自我毁灭的，他们从来不自己干活，他们编写自动的程序不断填充着这个世界，直到他们自己都不再被需要。这不，互联网已被竞相涌入的程序员和他们的程序占满，“用户需求”已经不能满足程序员的饥渴，他们又开始创造需求，这个世界上只要有互联网公司和快递公司就好了，他们想。</p>
<p>但是，那些后来者发现，所有现实世界都几乎都被搬上网了，那我们干什么？很快，他们将目光看向了现实世界，他们开始将互联网搬到现实中，智能手机，pad，glass。终于，他们开始在自己的现实世界中自我毁灭了，自动驾驶，智能家居——他们开始将带电的，不带电的，能动的，不能动的物体自动化。嗯，对了，这有个很热的名字——物联网。</p>
<p>主人早上好，北京的雾霾天气已被weather block plus拦截，室内健康指数98分，已打败73.5%的北京用户，赶快购买空气清新插件提升您的健康指数。室内壁纸5D（试用版）已根据您的喜好为您挑选了壁纸，10分钟广告后显示。冰箱余菜已更新，您是要先洗澡，先吃早餐还是打一炮？【选择】使用左手还是右手？（67.8%的用户推荐使用左手）【选择】今日热榜 &#x2F; Kimer猜 。。。。。。</p>
<p>##正文<br>咳咳，扯远了，虽然G+福利满地，但是有收不全、怕收重、格式命名不统一，还是喜欢自己收图。最常用的方案是用支持内容离线的RSS阅读器订阅图站的RSS。我订阅的有</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://yande.re/post/atom?tags=">yande.re</a> 建议用atom的，输出带分辨率</li>
<li><a href="konachan.com/post/atom?tags=">konachan.com</a> 壁纸向</li>
<li><a target="_blank" rel="noopener" href="http://pyproxy.duapp.com/s;ssd%2Fdata%2Fpreview;data/re;((%3Cimg%20src%3D%22http%3A%2F%2Fdanbooru.donmai.us%2Fdata%2F%5Cw%2B.)jpg%22%2F%3E);%5C1%5C2png%22%20%2F%3E/http://danbooru.donmai.us/posts.atom">danbooru</a> 很杂，转烧输出大图</li>
</ul>
<p>使用google reader订阅，看到好图就标星，月底统一收。但是每个月几百张收到手软。现在使用的方案是：</p>
<ol>
<li>google reader订阅，标星</li>
<li><a target="_blank" rel="noopener" href="https://ifttt.com/">ifttt</a>将url追加到dropbox的文件里</li>
<li>脚本收图<br><img src="/assets/image/ifttt.png" alt="ifttt"></li>
</ol>
<p>###脚本收图</p>
<p>虽然我用google reader进行筛选，但是直接全收也是可以的，方法也类似。<br>首先，创建一个ifttt账号，现在应该已经开放注册了吧。</p>
<ol>
<li>登陆 &gt; <code>Create a Recipe</code></li>
<li>this选择 <code>Google Reader</code> Trigger选择 <code>New starred item</code>（如果全收，this选择 <code>Feed</code> Trigger选 <code>New feed item</code>）</li>
<li>then选择<code>Dropbox</code> Trigger选<code>Append to a text file</code></li>
<li>file name：  （每个网站一个文件） content： </li>
<li>保存即可</li>
</ol>
<p>现在在reader中标星，过一会就会收到Dropbox的文件更新提示。</p>
<p>第二步就是脚本<strong>（需要linux shell环境支持）</strong>，脚本支持yande.re，konachan.com，danbooru三个站的原图地址解析（当原图大于5M时下载jpg格式）</p>
<ol>
<li>下载 <a target="_blank" rel="noopener" href="https://gist.github.com/binux/5071536/raw/imgurl.py">imgurl.py</a></li>
<li>在下载目录执行<code>python imgurl.py [刚才ifttt创建的文件] | xargs -n 1 wget</code></li>
</ol>
<p>###自动分享到pinterest</p>
<p><strong>您需要一台VPS</strong><br>本来是打算自动分享到pinterest和G+的，但是G+没有publish的API，唯一的write API——moments还没上线。等有了再弄吧。  </p>
<ol>
<li>VPS环境需要python2.6+，<code>easy_install requests tornado</code></li>
<li>VPS下载 <a target="_blank" rel="noopener" href="https://gist.github.com/binux/5075775/raw/img_share.py">img_share.py</a></li>
<li>登陆<a target="_blank" rel="noopener" href="http://pinterest.com/">http://pinterest.com/</a>，提取cookie</li>
<li>访问<a href="view-source:http://pinterest.com/me/">http://pinterest.com/me/</a> &gt; 查看源码，查找<code>&lt;ul class=&quot;BoardListUl&quot;&gt;</code>，提取要发布到board的id，在对应的&lt;li data属性中，比如<code>215258125878507279</code>这样的串</li>
<li>用<code>python img_share.py  --pinterest_cookie=&#39;[第3步]&#39; --pinterest_board=[第4步]</code> 命令启动</li>
<li>登陆<a target="_blank" rel="noopener" href="https://ifttt.com/">ifttt</a> &gt; <code>Create a Recipe</code></li>
<li>this选择 <code>Google Reader</code> Trigger选择 <code>New starred item</code></li>
<li>then选择 <code>WordPress</code> Blog URL： <code>ifttt.captnemo.in</code>, Username,password任意填。Trigger选<code>Create a post</code></li>
<li>Title: , Body: , Tags: <code>http://[VPS的hostname/ip]:8888/</code></li>
</ol>
<p>保存即可，比如<a target="_blank" rel="noopener" href="http://pinterest.com/binux/auto/">我的pinterest</a>。img_share.py可以设置<code>--username --password</code>验证（与第8步对应，不设置不验证），可以<code>--port</code>修改端口。具体<code>python img_share.py --help</code> 即可。</p>
<p><strong>本文写于2013年02月31日</strong></p>

      
    </div>
    <footer>
      
        
        
  
  <div class="tags">
    <a href="/tags/python/">python</a>, <a href="/tags/yande-re/">yande.re</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="as_sitesearch" value="binux.blog">
  </form>
</div>


  <div class="widget tag about_me">
  <h3 class="title">About Me</h3>
  <ul class="entry">
    
    <li>
      <span class="icon email"></span>
      <a href="mailto:roy@binux.me" target=_blank rel=me>roy@binux.me</a>
    </li>
    

    
    <li>
      <span class="icon github"></span>
      <a href="https://github.com/binux" target=_blank rel=me>github.com/binux</a>
    </li>
    

    
    <li>
      <span class="icon twitter"></span>
      <a href="https://twitter.com/roybinux" target=_blank rel=me>@roybinux</a>
    </li>
    

    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2022/09/cat-planet-bot-part-2-video-capture-and-classification/">猫之城物理钓鱼挂（二）：图像采集以及画面分类</a>
      </li>
    
      <li>
        <a href="/2022/08/cat-planet-bot-part-1-touch-simulation/">猫之城物理钓鱼挂（一）：物理模拟触屏点击</a>
      </li>
    
      <li>
        <a href="/2020/01/home-assistant/">家居自动化</a>
      </li>
    
      <li>
        <a href="/2019/03/zerotier-nat-gateway-and-iptables-debug/">Zerotier Nat 网关出口 和 iptables 调试</a>
      </li>
    
      <li>
        <a href="/2018/10/girls-frontline-ankulua-vision/">少女前线拖尸脚本 和 生成它的可视化工具</a>
      </li>
    
  </ul>
</div>


  <div class="widget tag recent-comments">
  <h3 class="title">近期评论</h3>
  <div class="entry">
    <script type="text/javascript" src="//binux.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=32&amp;excerpt_length=50"></script>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2022 Roy Binux
  
</div>
<div class="clearfix"></div></footer>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/jquery.imagesloaded.min.js"></script>


<script src="/js/gallery.js"></script>



<script>
var disqus_shortname = 'binux';
var disqus_config = function () {
this.page.url = 'https://binux.blog/2013/03/yandere-automatic/';
this.page.identifier = 'https://binux.blog/2013/03/yandere-automatic/';
};

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script>
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
